<svg width="960" height="560" xmlns="http://www.w3.org/2000/svg" font-family="'Segoe UI', system-ui, sans-serif">
  <defs>
    <linearGradient id="bgGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#060818"/>
      <stop offset="50%" style="stop-color:#0b1128"/>
      <stop offset="100%" style="stop-color:#080b1e"/>
    </linearGradient>
    <radialGradient id="spotlight" cx="50%" cy="50%" r="55%">
      <stop offset="0%" style="stop-color:#1e3a8a1a"/>
      <stop offset="100%" style="stop-color:#00000000"/>
    </radialGradient>
    <pattern id="dots" width="32" height="32" patternUnits="userSpaceOnUse">
      <circle cx="16" cy="16" r="1" fill="#ffffff09"/>
    </pattern>

    <!-- Node gradients -->
    <linearGradient id="g1" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#38bdf8"/>
      <stop offset="100%" style="stop-color:#0369a1"/>
    </linearGradient>
    <linearGradient id="g2" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#fb923c"/>
      <stop offset="100%" style="stop-color:#b45309"/>
    </linearGradient>
    <linearGradient id="g3" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#818cf8"/>
      <stop offset="100%" style="stop-color:#3730a3"/>
    </linearGradient>
    <linearGradient id="g4" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#34d399"/>
      <stop offset="100%" style="stop-color:#065f46"/>
    </linearGradient>
    <linearGradient id="g5" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f472b6"/>
      <stop offset="100%" style="stop-color:#9d174d"/>
    </linearGradient>
    <linearGradient id="g6" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#fbbf24"/>
      <stop offset="100%" style="stop-color:#92400e"/>
    </linearGradient>

    <!-- Glow -->
    <filter id="glow">
      <feGaussianBlur stdDeviation="7" result="b"/>
      <feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
    <filter id="shadow">
      <feDropShadow dx="0" dy="8" stdDeviation="12" flood-color="#000" flood-opacity="0.55"/>
    </filter>

    <!-- Arrow head -->
    <marker id="ah" markerWidth="9" markerHeight="7" refX="8" refY="3.5" orient="auto">
      <polygon points="0 0, 9 3.5, 0 7" fill="#ffffff55"/>
    </marker>

    <!-- Motion paths — must exactly match arrow lines -->
    <path id="pa" d="M225,218 L295,218" fill="none" visibility="hidden"/>
    <path id="pb" d="M445,218 L515,218" fill="none" visibility="hidden"/>
    <path id="pc" d="M665,218 L735,218" fill="none" visibility="hidden"/>
    <path id="pd" d="M590,262 L590,338" fill="none" visibility="hidden"/>
    <path id="pe" d="M703,379 L736,379" fill="none" visibility="hidden"/>
    <path id="pf" d="M810,338 L810,262" fill="none" visibility="hidden"/>
  </defs>

  <!-- ═══ ANIMATED DARK BLUE BACKGROUND ═══ -->
  <!-- Base dark blue fill -->
  <rect width="960" height="560" fill="#020b2e"/>

  <!-- Animated gradient overlay that shifts hues -->
  <rect width="960" height="560" opacity="0.9">
    <animate attributeName="fill" values="#020b2e;#03103d;#020e38;#020b2e" dur="12s" repeatCount="indefinite"/>
  </rect>

  <!-- Aurora blob 1 — blue-cyan, top-left drift -->
  <ellipse cx="150" cy="160" rx="280" ry="140" fill="#1d4ed8" opacity="0.12">
    <animate attributeName="cx" values="150;230;170;150" dur="13s" repeatCount="indefinite"/>
    <animate attributeName="cy" values="160;130;200;160" dur="13s" repeatCount="indefinite"/>
    <animate attributeName="opacity" values="0.12;0.2;0.1;0.12" dur="13s" repeatCount="indefinite"/>
  </ellipse>

  <!-- Aurora blob 2 — indigo-purple, bottom-right drift -->
  <ellipse cx="820" cy="420" rx="260" ry="130" fill="#4338ca" opacity="0.14">
    <animate attributeName="cx" values="820;740;860;820" dur="15s" repeatCount="indefinite"/>
    <animate attributeName="cy" values="420;460;380;420" dur="15s" repeatCount="indefinite"/>
    <animate attributeName="opacity" values="0.14;0.08;0.18;0.14" dur="15s" repeatCount="indefinite"/>
  </ellipse>

  <!-- Aurora blob 3 — teal glow, center slow pulse -->
  <ellipse cx="500" cy="290" rx="220" ry="160" fill="#0e7490" opacity="0.07">
    <animate attributeName="rx" values="220;260;200;220" dur="10s" repeatCount="indefinite"/>
    <animate attributeName="opacity" values="0.07;0.13;0.05;0.07" dur="10s" repeatCount="indefinite"/>
  </ellipse>

  <!-- Aurora blob 4 — deep violet, top-right -->
  <ellipse cx="780" cy="120" rx="200" ry="100" fill="#6d28d9" opacity="0.1">
    <animate attributeName="cx" values="780;840;720;780" dur="18s" repeatCount="indefinite"/>
    <animate attributeName="opacity" values="0.1;0.06;0.14;0.1" dur="18s" repeatCount="indefinite"/>
  </ellipse>

  <!-- Dot grid overlay -->
  <rect width="960" height="560" fill="url(#dots)"/>

  <!-- Radial spotlight glow from center -->
  <radialGradient id="cg" cx="50%" cy="50%" r="50%">
    <stop offset="0%" style="stop-color:#1e40af" stop-opacity="0.12"/>
    <stop offset="100%" style="stop-color:#000000" stop-opacity="0"/>
  </radialGradient>
  <rect width="960" height="560" fill="url(#cg)"/>

  <!-- Animated shimmer scan line -->
  <rect x="0" y="0" width="960" height="2" fill="white" opacity="0">
    <animate attributeName="y" values="-2;562" dur="6s" repeatCount="indefinite" begin="2s"/>
    <animate attributeName="opacity" values="0;0.04;0.04;0" keyTimes="0;0.05;0.95;1" dur="6s" repeatCount="indefinite" begin="2s"/>
  </rect>

  <!-- Floating star particles -->
  <circle cx="72"  cy="45"  r="1.2" fill="white" opacity="0.5"><animate attributeName="opacity" values="0.5;0.1;0.5" dur="3.1s" repeatCount="indefinite"/></circle>
  <circle cx="200" cy="90"  r="1"   fill="white" opacity="0.4"><animate attributeName="opacity" values="0.4;0.9;0.4" dur="4.2s" repeatCount="indefinite"/></circle>
  <circle cx="430" cy="35"  r="1.5" fill="#93c5fd" opacity="0.6"><animate attributeName="opacity" values="0.6;0.2;0.6" dur="2.8s" repeatCount="indefinite"/></circle>
  <circle cx="680" cy="70"  r="1"   fill="white" opacity="0.35"><animate attributeName="opacity" values="0.35;0.8;0.35" dur="5s" repeatCount="indefinite"/></circle>
  <circle cx="870" cy="40"  r="1.3" fill="#a5b4fc" opacity="0.5"><animate attributeName="opacity" values="0.5;0.1;0.5" dur="3.7s" repeatCount="indefinite"/></circle>
  <circle cx="50"  cy="320" r="1"   fill="white" opacity="0.3"><animate attributeName="opacity" values="0.3;0.7;0.3" dur="4.5s" repeatCount="indefinite"/></circle>
  <circle cx="910" cy="200" r="1.2" fill="#bfdbfe" opacity="0.4"><animate attributeName="opacity" values="0.4;0.1;0.4" dur="3.3s" repeatCount="indefinite"/></circle>
  <circle cx="920" cy="480" r="1"   fill="white" opacity="0.45"><animate attributeName="opacity" values="0.45;0.9;0.45" dur="2.5s" repeatCount="indefinite"/></circle>
  <circle cx="340" cy="510" r="1.4" fill="#93c5fd" opacity="0.3"><animate attributeName="opacity" values="0.3;0.7;0.3" dur="6s" repeatCount="indefinite"/></circle>
  <circle cx="760" cy="530" r="1"   fill="white" opacity="0.4"><animate attributeName="opacity" values="0.4;0.1;0.4" dur="4.1s" repeatCount="indefinite"/></circle>
  <circle cx="130" cy="500" r="1.2" fill="#a5b4fc" opacity="0.35"><animate attributeName="opacity" values="0.35;0.75;0.35" dur="3.9s" repeatCount="indefinite"/></circle>

  <!-- ═══ TITLE ═══ -->
  <text x="480" y="50" fill="#e2e8f0" font-size="19" font-weight="700" text-anchor="middle" letter-spacing="3" opacity="0.92">AWS SERVERLESS ARCHITECTURE</text>
  <line x1="270" y1="62" x2="690" y2="62" stroke="#ffffff18" stroke-width="1"/>
  <text x="480" y="78" fill="#64748b" font-size="10.5" text-anchor="middle" letter-spacing="2">CLOUD  ·  CDN  ·  STORAGE  ·  COMPUTE  ·  DATABASE</text>

  <!--
  ═══════════════════════════════════════════
  LAYOUT GRID
  Canvas: 960 × 560
  Node size: w=140 h=78
  Row 1 (top-center y=179): 4 nodes
    Gap between = (960 - 4×140) / 5 = (960-560)/5 = 80
    x positions: 80, 300, 520, 740  →  cx: 150, 370, 590, 810

  Row 2 (y=340): 2 nodes aligned under S3 and DynamoDB
    API Gateway: x=450, w=280, cx=590  (centered under S3)
    Lambda:      x=740, w=140, cx=810  (aligned under DynamoDB)

  Connectors:
    H: User→CF:    (220,218)→(300,218)
    H: CF→S3:      (440,218)→(520,218)
    H: S3→Dynamo:  (660,218)→(740,218)
    V: S3↓API:     (590,257)→(590,340)
    H: API→Lambda: (730,380)→(740,380)
    V: Lambda↑Dyn: (810,340)→(810,257)
  ═══════════════════════════════════════════
  -->

  <!-- ═══ CONNECTION LINES ═══ -->

  <!-- User → CloudFront -->
  <line x1="220" y1="218" x2="300" y2="218" stroke="#ffffff25" stroke-width="2" stroke-dasharray="7,4" marker-end="url(#ah)"/>
  <text x="260" y="211" fill="#64748b" font-size="8" text-anchor="middle">HTTPS</text>

  <!-- CloudFront → S3 -->
  <line x1="440" y1="218" x2="520" y2="218" stroke="#ffffff25" stroke-width="2" stroke-dasharray="7,4" marker-end="url(#ah)"/>
  <text x="480" y="211" fill="#64748b" font-size="8" text-anchor="middle">OAC</text>

  <!-- S3 → DynamoDB -->
  <line x1="660" y1="218" x2="740" y2="218" stroke="#ffffff25" stroke-width="2" stroke-dasharray="7,4" marker-end="url(#ah)"/>

  <!-- S3 ↓ API Gateway -->
  <line x1="590" y1="257" x2="590" y2="340" stroke="#ffffff25" stroke-width="2" stroke-dasharray="7,4"/>
  <polygon points="584,338 590,352 596,338" fill="#ffffff55"/>
  <text x="598" y="303" fill="#64748b" font-size="8">REST</text>

  <!-- API Gateway → Lambda (gap: API ends x=700, Lambda starts x=740, arrow x1=700 x2=740) -->
  <line x1="700" y1="379" x2="738" y2="379" stroke="#ffffff25" stroke-width="2" stroke-dasharray="7,4" marker-end="url(#ah)"/>
  <text x="719" y="371" fill="#64748b" font-size="8" text-anchor="middle">INVOKE</text>

  <!-- Lambda ↑ DynamoDB -->
  <line x1="810" y1="340" x2="810" y2="257" stroke="#ffffff25" stroke-width="2" stroke-dasharray="7,4"/>
  <polygon points="804,259 810,245 816,259" fill="#ffffff55"/>
  <text x="820" y="303" fill="#64748b" font-size="8">R/W</text>

  <!-- ═══ ANIMATED DOTS ═══ -->
  <circle r="4.5" fill="#38bdf8" filter="url(#glow)">
    <animateMotion dur="1.6s" repeatCount="indefinite" begin="0s"><mpath href="#pa"/></animateMotion>
    <animate attributeName="opacity" values="0;1;1;0" dur="1.6s" repeatCount="indefinite" begin="0s"/>
  </circle>
  <circle r="4.5" fill="#fb923c" filter="url(#glow)">
    <animateMotion dur="1.6s" repeatCount="indefinite" begin="0.6s"><mpath href="#pb"/></animateMotion>
    <animate attributeName="opacity" values="0;1;1;0" dur="1.6s" repeatCount="indefinite" begin="0.6s"/>
  </circle>
  <circle r="4.5" fill="#818cf8" filter="url(#glow)">
    <animateMotion dur="1.6s" repeatCount="indefinite" begin="1.2s"><mpath href="#pc"/></animateMotion>
    <animate attributeName="opacity" values="0;1;1;0" dur="1.6s" repeatCount="indefinite" begin="1.2s"/>
  </circle>
  <circle r="4.5" fill="#818cf8" filter="url(#glow)">
    <animateMotion dur="1.6s" repeatCount="indefinite" begin="1.8s"><mpath href="#pd"/></animateMotion>
    <animate attributeName="opacity" values="0;1;1;0" dur="1.6s" repeatCount="indefinite" begin="1.8s"/>
  </circle>
  <circle r="4.5" fill="#f472b6" filter="url(#glow)">
    <animateMotion dur="1.4s" repeatCount="indefinite" begin="2.4s"><mpath href="#pe"/></animateMotion>
    <animate attributeName="opacity" values="0;1;1;0" dur="1.4s" repeatCount="indefinite" begin="2.4s"/>
  </circle>
  <circle r="4.5" fill="#fbbf24" filter="url(#glow)">
    <animateMotion dur="1.6s" repeatCount="indefinite" begin="2.9s"><mpath href="#pf"/></animateMotion>
    <animate attributeName="opacity" values="0;1;1;0" dur="1.6s" repeatCount="indefinite" begin="2.9s"/>
  </circle>

  <!-- ═══ NODE: USER  x=80 y=179 w=140 h=78  cx=150 cy=218 ═══ -->
  <g filter="url(#shadow)">
    <rect x="80" y="179" width="140" height="78" rx="15" fill="url(#g1)" opacity="0">
      <animate attributeName="opacity" from="0" to="1" dur="0.5s" begin="0.1s" fill="freeze"/>
    </rect>
    <rect x="80" y="179" width="140" height="78" rx="15" fill="none" stroke="#38bdf8" stroke-width="1.2" opacity="0">
      <animate attributeName="opacity" from="0" to="0.45" dur="0.5s" begin="0.1s" fill="freeze"/>
    </rect>
  </g>
  <g opacity="0">
    <circle cx="113" cy="206" r="9" fill="white" opacity="0.85"/>
    <path d="M97,230 Q113,221 129,230" stroke="white" stroke-width="2.5" fill="none" stroke-linecap="round" opacity="0.85"/>
    <text x="165" y="211" fill="white" font-size="12.5" font-weight="700" text-anchor="middle">User</text>
    <text x="165" y="228" fill="#ffffffbb" font-size="9" text-anchor="middle">Client Browser</text>
    <text x="165" y="244" fill="#ffffff66" font-size="8" text-anchor="middle">Origin of Request</text>
    <animate attributeName="opacity" from="0" to="1" dur="0.5s" begin="0.1s" fill="freeze"/>
  </g>
  <!-- pulse ring -->
  <circle cx="150" cy="218" r="50" fill="none" stroke="#38bdf8" stroke-width="1.2">
    <animate attributeName="r" values="50;68" dur="2.8s" repeatCount="indefinite"/>
    <animate attributeName="opacity" values="0.4;0" dur="2.8s" repeatCount="indefinite"/>
  </circle>

  <!-- ═══ NODE: CLOUDFRONT  x=300 y=179 w=140 h=78 ═══ -->
  <g filter="url(#shadow)">
    <rect x="300" y="179" width="140" height="78" rx="15" fill="url(#g2)" opacity="0">
      <animate attributeName="opacity" from="0" to="1" dur="0.5s" begin="0.35s" fill="freeze"/>
    </rect>
    <rect x="300" y="179" width="140" height="78" rx="15" fill="none" stroke="#fb923c" stroke-width="1.2" opacity="0">
      <animate attributeName="opacity" from="0" to="0.45" dur="0.5s" begin="0.35s" fill="freeze"/>
    </rect>
  </g>
  <g opacity="0">
    <path d="M318,213 Q318,203 327,202 Q330,196 340,197 Q345,191 354,194 Q361,191 365,198 Q372,198 372,207 Q372,215 364,215 L320,215 Q313,215 318,213Z" fill="white" opacity="0.8"/>
    <text x="370" y="229" fill="white" font-size="12.5" font-weight="700" text-anchor="middle">CloudFront</text>
    <text x="370" y="246" fill="#ffffffbb" font-size="9" text-anchor="middle">CDN / Edge Cache</text>
    <animate attributeName="opacity" from="0" to="1" dur="0.5s" begin="0.35s" fill="freeze"/>
  </g>

  <!-- ═══ NODE: S3  x=520 y=179 w=140 h=78 ═══ -->
  <g filter="url(#shadow)">
    <rect x="520" y="179" width="140" height="78" rx="15" fill="url(#g3)" opacity="0">
      <animate attributeName="opacity" from="0" to="1" dur="0.5s" begin="0.6s" fill="freeze"/>
    </rect>
    <rect x="520" y="179" width="140" height="78" rx="15" fill="none" stroke="#818cf8" stroke-width="1.2" opacity="0">
      <animate attributeName="opacity" from="0" to="0.45" dur="0.5s" begin="0.6s" fill="freeze"/>
    </rect>
  </g>
  <g opacity="0">
    <rect x="538" y="194" width="26" height="20" rx="4" fill="white" opacity="0.82"/>
    <path d="M535,192 Q551,186 567,192" stroke="white" stroke-width="2" fill="none" stroke-linecap="round" opacity="0.82"/>
    <path d="M542,214 L540,221 L562,221 L560,214" fill="#ffffff55"/>
    <text x="615" y="211" fill="white" font-size="12.5" font-weight="700" text-anchor="middle">S3 (Private)</text>
    <text x="615" y="228" fill="#ffffffbb" font-size="9" text-anchor="middle">Static Assets</text>
    <text x="615" y="244" fill="#ffffff66" font-size="8" text-anchor="middle">Private Bucket</text>
    <animate attributeName="opacity" from="0" to="1" dur="0.5s" begin="0.6s" fill="freeze"/>
  </g>

  <!-- ═══ NODE: DYNAMODB  x=740 y=179 w=140 h=78 ═══ -->
  <g filter="url(#shadow)">
    <rect x="740" y="179" width="140" height="78" rx="15" fill="url(#g4)" opacity="0">
      <animate attributeName="opacity" from="0" to="1" dur="0.5s" begin="0.85s" fill="freeze"/>
    </rect>
    <rect x="740" y="179" width="140" height="78" rx="15" fill="none" stroke="#34d399" stroke-width="1.2" opacity="0">
      <animate attributeName="opacity" from="0" to="0.45" dur="0.5s" begin="0.85s" fill="freeze"/>
    </rect>
  </g>
  <g opacity="0">
    <ellipse cx="769" cy="202" rx="13" ry="5" fill="white" opacity="0.82"/>
    <rect x="756" y="202" width="26" height="12" fill="white" opacity="0.5"/>
    <ellipse cx="769" cy="214" rx="13" ry="5" fill="white" opacity="0.78"/>
    <rect x="756" y="214" width="26" height="8" fill="white" opacity="0.3"/>
    <ellipse cx="769" cy="222" rx="13" ry="5" fill="white" opacity="0.7"/>
    <text x="835" y="211" fill="white" font-size="12.5" font-weight="700" text-anchor="middle">DynamoDB</text>
    <text x="835" y="228" fill="#ffffffbb" font-size="9" text-anchor="middle">NoSQL Database</text>
    <text x="835" y="244" fill="#ffffff66" font-size="8" text-anchor="middle">Key-Value Store</text>
    <animate attributeName="opacity" from="0" to="1" dur="0.5s" begin="0.85s" fill="freeze"/>
  </g>

  <!-- ═══ NODE: API GATEWAY  x=500 y=340 w=200 h=78  cx=600 — ends at x=700, gap=40 before Lambda ═══ -->
  <g filter="url(#shadow)">
    <rect x="500" y="340" width="200" height="78" rx="15" fill="url(#g5)" opacity="0">
      <animate attributeName="opacity" from="0" to="1" dur="0.5s" begin="1.1s" fill="freeze"/>
    </rect>
    <rect x="500" y="340" width="200" height="78" rx="15" fill="none" stroke="#f472b6" stroke-width="1.2" opacity="0">
      <animate attributeName="opacity" from="0" to="0.45" dur="0.5s" begin="1.1s" fill="freeze"/>
    </rect>
  </g>
  <g opacity="0">
    <text x="530" y="390" fill="white" font-size="24" font-weight="900" opacity="0.7">{ }</text>
    <text x="600" y="368" fill="white" font-size="12.5" font-weight="700" text-anchor="middle">API Gateway</text>
    <text x="600" y="385" fill="#ffffffbb" font-size="9" text-anchor="middle">REST / HTTP Endpoint</text>
    <text x="600" y="402" fill="#ffffff66" font-size="8" text-anchor="middle">Request Routing &amp; Auth</text>
    <animate attributeName="opacity" from="0" to="1" dur="0.5s" begin="1.1s" fill="freeze"/>
  </g>

  <!-- ═══ NODE: LAMBDA  x=740 y=340 w=140 h=78  cx=810 ═══ -->
  <g filter="url(#shadow)">
    <rect x="740" y="340" width="140" height="78" rx="15" fill="url(#g6)" opacity="0">
      <animate attributeName="opacity" from="0" to="1" dur="0.5s" begin="1.35s" fill="freeze"/>
    </rect>
    <rect x="740" y="340" width="140" height="78" rx="15" fill="none" stroke="#fbbf24" stroke-width="1.2" opacity="0">
      <animate attributeName="opacity" from="0" to="0.45" dur="0.5s" begin="1.35s" fill="freeze"/>
    </rect>
  </g>
  <g opacity="0">
    <text x="768" y="393" fill="#00000055" font-size="32" font-weight="900">λ</text>
    <text x="830" y="368" fill="#1a0500" font-size="12.5" font-weight="800" text-anchor="middle">Lambda</text>
    <text x="830" y="385" fill="#1a0500bb" font-size="9" text-anchor="middle">Serverless Function</text>
    <text x="830" y="402" fill="#1a050099" font-size="8" text-anchor="middle">Event-Driven Compute</text>
    <animate attributeName="opacity" from="0" to="1" dur="0.5s" begin="1.35s" fill="freeze"/>
  </g>

  <!-- ═══ FOOTER ═══ -->
  <line x1="40" y1="470" x2="920" y2="470" stroke="#ffffff0e" stroke-width="1"/>
  <text x="480" y="498" fill="#1e3a5f" font-size="9" text-anchor="middle" letter-spacing="2">AWS SERVERLESS ARCHITECTURE  ·  DATA FLOW DIAGRAM</text>

</svg>